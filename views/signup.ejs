<!-- views/signup.ejs -->
<!doctype html>
<html>
<head>
        <title>Rent or Exchange</title>
        <link rel="icon" type="image/ico" href="/images/title_icon/title_icon.png" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/css/bootstrap_css/bootstrap.min.css">
    <!-- <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css"> <!-- load bootstrap css -->
    <!-- <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">load fontawesome -->
    
    <!-- my own custom css -->
    <link rel="stylesheet" type="text/css" href="/css/custom_style.css">

     <!-- image preview library css -->
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/file-upload-with-preview/dist/file-upload-with-preview.min.css">

    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css"> <!-- load fontawesome -->
    <style>
        body        { padding-top:80px; }
    </style>
</head>
<body>

     <!-- including nav_bar using ejs -->
     <%- include include/nav_bar_without_login.ejs %> 

<div class="container">

<div class="col-sm-4 offset-sm-4  mt-sm-5 mb-sm-5 pt-sm-5 pb-sm-5">

    <h1><span class="fa fa-sign-in"></span> Signup</h1>

     <!-- show any messages that come back with authentication -->
     <% if (locals.messages) { %>
        <div class="alert alert-danger"><%= messages.msg %></div>
    <% } %>

    <!-- SIGNUP FORM -->
    <form action="/signup" method="post" enctype="multipart/form-data"  id="postForm" class="needs-validation" novalidate>
        
        <div class="form-group">
        <label for="">User Type</label>
        <select class="form-control" name="user_type" id="selectUserType">
            <option>Personal</option>
            <option>Business</option>                
        </select>
        </div>  

        <div class="form-group">
            <label>Name</label> 
            <input type="text" class="form-control" name="name" required>
            <div class="invalid-feedback">Name is needed</div>
        </div>

        <div class="form-group">
            <label>Email</label>
            <input type="text" class="form-control" name="email" required>
            <div class="invalid-feedback">Email is needed</div>
        </div>
        <div class="form-group">
            <label>Password</label>
            <input type="password" class="form-control" name="password" required>
            <div class="invalid-feedback">Password is needed</div>
        </div>

        <div class="form-group">
                <label>Repeat Password</label>
                <input type="password" class="form-control" name="password_repeated" required>
                <div class="invalid-feedback">Password is needed</div>
        </div>

        <div class="form-group">
                <div class="custom-file-container" data-upload-id="myUniqueUploadId">
                        <label>Add Profile Photo<a href="javascript:void(0)" class="custom-file-container__image-clear" title="Clear Image">&times;</a></label>
             
                        <label class="custom-file-container__custom-file" >
                            <input type="file" class="custom-file-container__custom-file__custom-file-input" accept="image/x-png,image/gif,image/jpeg" name="profile_image">
                            <input type="hidden" name="MAX_FILE_SIZE" value="10485760" />
                            <span class="custom-file-container__custom-file__custom-file-control"></span>
                        </label>
                        <div class="custom-file-container__image-preview"></div>
                </div>
        </div>

        

        <div class="form-row">
            <div class="col-md-6">
            <label>Mobile 1</label>    
            <input type="text" class="form-control" name="mobile" placeholder="+8801xxxxxxxxx">
            </div>
            <div class="col-md-6">
            <label>Mobile 2</label>    
            <input type="text" class="form-control" name="mobile" placeholder="+8801xxxxxxxxx">
            </div>
        </div>
                  

        <div class="form-group">
            <label>Address</label>
            <input type="text" class="form-control" name="address" required>
            <div class="invalid-feedback">Address is needed</div>
        </div>

        <div class="form-group">
            <label>City or Region</label>
            <input type="text" class="form-control" name="city_or_region" required>
            <div class="invalid-feedback">City or region is needed</div>
        </div>

        <button type="submit" class="btn btn-success btn-lg">Signup</button>
    </form>

    <hr>

    <p>Already have an account? <a href="/login">Login</a></p>
    <p>Or go <a href="/">home</a>.</p>

</div>

</div>

<!-- below script will validate form requiredd fields -->
<script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function() {
        'use strict';
        window.addEventListener('load', function() {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.getElementsByClassName('needs-validation');
        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
            if (form.checkValidity() === false) {
                event.preventDefault();
                event.stopPropagation();
            }
            form.classList.add('was-validated');
            }, false);
        });
        }, false);
    })();
    </script>
    <!-- Ends form validation script -->

 <!-- loading footer using ejs include -->
 <%- include include/footer.ejs %>


    <!-- scripts for photo upload library starts -->
    <script src="https://unpkg.com/file-upload-with-preview"></script> 
    <script>
        var upload = new FileUploadWithPreview('myUniqueUploadId')
    </script>
    <!-- scripts for photo upload library ends -->

   <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="css/bootstrap_js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>
